<h1>My Rides</h1>
<div *ngIf="!rides || rides.length === 0">
  <!-- Show loader when rides array is empty -->
  <div class="loader"></div>
</div>
<div class="notification-container">
  <div class="notification" *ngIf="notificationMessage">
    {{ notificationMessage }}
  </div>
</div>
<div class="ride-container" *ngIf="rides && rides.length > 0">
  <div *ngFor="let ride of rides" class="ride-card">
    <div class="ride-details">
      <p>Date: {{ ride.dateTime }}</p>
      <p *ngIf="ride.pickupLocation">
        Start Location: {{ ride.pickupLocation }}
      </p>
      <p *ngIf="!ride.pickupLocation">Pickup Locations</p>
      <ul *ngIf="!ride.pickupLocation" class="custom-list">
        <li *ngFor="let r of ride.riders" class="custom-list-item">
          {{ r.riderId }}: {{ r.pickupLocation }}
        </li>
      </ul>
      <p>End Location: {{ ride.dropoffLocation }}</p>
    </div>
    <div class="ride-status">
      <div [style.backgroundColor]="ride.color" [ngClass]="{ dot: true }"></div>
      <span class="status-text">{{ ride.statusString }}</span>
    </div>
    <hr class="ride-divider" />
    <!-- Add the buttons and divider here -->
    <div class="ride-buttons">
      <button
        class="ride-button"
        [routerLink]="'/rating/' + ride.rideId"
        [queryParams]="{
          date: ride.dateTime,
          startLocation: ride.pickupLocation,
          endLocation: ride.dropoffLocation
        }"
      >
        Provide Feedback
      </button>
      <button class="ride-button">Messages</button>
      <button class="ride-button" (click)="cancelRide(ride.rideId)">
        Cancel Ride
      </button>
    </div>
  </div>
</div>
